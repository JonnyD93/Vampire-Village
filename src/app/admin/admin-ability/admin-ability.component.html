<nav>
  <div class="nav-wrapper admin-nav">
    <div class="col s12">
      <a [routerLink]="['/admin']" class="breadcrumb">Admin</a>
      <a [routerLink]="['/admin/abilities']" class="breadcrumb">Abitilies</a>
    </div>
  </div>
</nav>
<div class="container">
  <div class="row">
    <div class="card">
      <div class="card-content">
        <span class="card-title">Create Ability</span>
        <div class="row">
          <div class="inputs col s8">
            <input id="name" [(ngModel)]="newAbility.name">
            <label for="name">Name</label>
            <input id="desc" [(ngModel)]="newAbility.description">
            <label for="desc">Description</label>
          </div>
          <div class="dropdown-buttons col s3">
            <a class='dropdown-trigger btn' href='#' data-target='dropdown1'>{{newAbility.type}}</a>
            <ul id='dropdown1' class='dropdown-content'>
              <li *ngFor="let type of types"><a (click)="setType(type)">{{type}}</a></li>
            </ul>
            <a class='dropdown-trigger btn' href='#' data-target='dropdown2'>{{effectSelected}}</a>
            <ul id='dropdown2' class='dropdown-content'>
              <li *ngFor="let effect of effects"><a (click)="setEffect(effect)">{{effect.name}}</a></li>
            </ul>

          </div>
          <div *ngIf="effectSelected!='null'" class="effect-chance col s1">
            <input id="effectchance" [(ngModel)]="newAbility.effectChance">
            <label for="effectchance">%</label>
          </div>
          <div class="col s6">
            <input id="dmgMulti" [(ngModel)]="newAbility.damageMultiplier">
            <label for="dmgMulti">Damage Multiplier</label>
          </div>
          <div class="col s6">
            <input id="cd" [(ngModel)]="newAbility.cooldown">
            <label for="cd">CoolDown</label>
          </div>
        </div>
        <a class="btn admin-btn" (click)="submit()">Create</a>
      </div>
    </div>
    <div class="card">
      <div class="card-content">
        <span class="card-title">View Abilities</span>
        <table>
          <tr>
            <th>Name</th>
            <th>Desc</th>
            <th>Type</th>
            <th>DMG X</th>
            <th>Effect</th>
            <th>Effect Chance</th>
            <th>Cooldown</th>
            <th>ID</th>
            <th></th>
          </tr>
          <tr *ngFor="let ability of abilities">
            <td>{{ability.name}}</td>
            <td>{{ability.description}}</td>
            <td>{{ability.type}}</td>
            <td>{{ability.damageMultiplier}}</td>
            <td *ngIf="ability.effect != null">{{ability.effect.name}}</td>
            <td *ngIf="ability.effect == null"></td>
            <td>{{ability.effectChance}}</td>
            <td>{{ability.cooldown}}</td>
            <td>{{ability.id}}</td>
            <td><a (click)="delete(ability.id)" class="red-text">X</a></td>
          </tr>
        </table>
      </div>
    </div>
  </div>
</div>
